/* 
 *   Filterable JQuery plugin version 0.2 
 *   Makes the selected input element a filter content on the page for view.
 *   https://github.com/caneruguz/.filterable
 */

!function(t){t.fn.filterable=function(e){var i=t.extend({selector:"p",fade:!1,resetText:"&times;",highlight:!0,highlightColor:"#ffffa6",complete:null},e),h=function(t,e){"on"==e&&(i.fade?t.fadeIn():t.show()),"off"==e&&(i.fade?t.fadeOut():t.hide())};t(document).on("click",".ft-reset",function(){t(i.selector).each(function(){h(t(this),"on")}),t(this).remove(),t(".filterable").val("").focus(),t(".ft-highlight").each(function(){t(this).replaceWith(t(this).text())})});var n=function(e,h,n){var o,s,f,l,c,r,r=e.html();o=r.toLowerCase().indexOf(h),s=o+h.length,f=r.substring(o,s),l=new RegExp("("+f+")(?![^<]*>|[^<>]*</)","gi"),c=r.replace(l,'<span class="ft-highlight">$1</span>'),e.html(c),t(".ft-highlight").css("background",i.highlightColor)},o=function(){t(".ft-highlight").each(function(){var e=t(this).text();t(this).replaceWith(e)})};return this.keyup(function(){var e,s,f,l;e=t(this).val().toLowerCase(),i.highlight&&o(),e.length>0?(t(i.selector).each(function(){s=t(this),f=t(this).text().toLowerCase(),l=f.indexOf(e),-1!=l?(h(t(this),"on"),i.highlight&&n(s,e,f)):h(t(this),"off")}),0==t(".ft-reset").length&&t(this).after('<button class="ft-reset">'+i.resetText+"</button>")):(h(t(i.selector),"on"),t(".ft-reset").length>0&&t(".ft-reset").remove()),t.isFunction(i.complete)&&i.complete.call(this)})}}(jQuery);
